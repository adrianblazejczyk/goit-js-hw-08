{"mappings":"iiBACA,IAAAA,EAAAC,EAAA,SAEMC,EAAmB,sBAEnBC,EAAW,CACfC,MAAO,GACPC,QAAS,GAETC,MAAA,WACEC,KAAKH,MAAQ,GACbG,KAAKF,QAAU,E,GAmCnB,SAASG,EAAaJ,EAAOC,GAC3BI,EAAKC,MAAMC,MAAQP,EACnBK,EAAKJ,QAAQM,MAAQN,C,CAYvB,SAASO,IAjBT,IAAyBC,IAkBPX,EAjBhBY,aAAaC,WAAWF,GAkBxBV,EAASG,QACTE,EAAa,IAAK,I,CASpB,IAAMC,EAAOO,SAASC,cAAc,mBAjDpC,SAAsBJ,EAAKK,GACzB,IACE,IAAMC,EAAkBL,aAAaM,QAAQP,GACvCQ,EACgB,OAApBF,OAA2BG,EAAYC,KAAKC,MAAML,GACpDD,EAAKd,MAAQiB,EAAQjB,MACrBc,EAAKb,QAAUgB,EAAQhB,O,CAEvB,MAAOoB,GACHC,QAAU,EACZC,QAAQC,IAAI,oCAEZD,QAAQF,MAAM,oBAAqBA,EAAMpB,Q,EAuC/CwB,CAAa3B,EAAkBC,GAC/BK,EAAaL,EAASC,MAAOD,EAASE,SAEtCI,EAAKqB,iBAAiB,QAASC,EAAA/B,GAAEgC,UAtBjC,SAAkBC,GAChB9B,EAASC,MAAQK,EAAKC,MAAMC,MAC5BR,EAASE,QAAUI,EAAKJ,QAAQM,MA1ClC,SAAsBO,GACpB,IACEJ,aAAaoB,QAAQhC,EAAkBqB,KAAKY,UAAUjB,G,CACtD,MAAOO,GACPE,QAAQC,IAAI,uBACZD,QAAQC,IAAIH,E,EAsCdW,CAAajC,E,GAmBqC,MACpDM,EAAKqB,iBAAiB,UAbtB,SAAkBG,GAChBA,EAAII,iBACJV,QAAQC,IAAIzB,GACZS,G","sources":["src/js/03-feedback.js"],"sourcesContent":["//----------------------------- Imports -----------------------------------------------------\nimport _ from 'lodash';\n//----------------------------- Const setting ------------------------------------------------------\nconst keyFormLocalData = 'feedback-form-state';\n//----------------------------- Object -------------------------------------------\nconst formData = {\n  eMail: '',\n  message: '',\n\n  clear() {\n    this.eMail = '';\n    this.message = '';\n  },\n};\n//------------------------------ Functions -----------------------------------------------------\nfunction setLocalData(data) {\n  try {\n    localStorage.setItem(keyFormLocalData, JSON.stringify(data));\n  } catch (error) {\n    console.log('Błąd podczas zapisu');\n    console.log(error);\n  }\n}\nfunction getLocalData(key, data) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    const getData =\n      serializedState === null ? undefined : JSON.parse(serializedState);\n    data.eMail = getData.eMail;\n    data.message = getData.message;\n    return data;\n  } catch (error) {\n    if (length <= 0) {\n      console.log('Brak danych w lokalnym magazynie');\n    } else {\n      console.error('Get state error: ', error.message);\n    }\n  }\n\n  //data.eMail = 'dsdsds';\n  //data.message = 'ok';\n  //return data;\n}\nfunction removeLocalData(key) {\n  localStorage.removeItem(key);\n}\nfunction completeForm(eMail, message) {\n  form.email.value = eMail;\n  form.message.value = message;\n}\nfunction getFormLocalData() {\n  getFormLocalData(keyFormLocalData, formData);\n  completeForm;\n  completeForm(formData.email, formData.message);\n}\nfunction saveForm(eve) {\n  formData.eMail = form.email.value;\n  formData.message = form.message.value;\n  setLocalData(formData);\n}\nfunction resetAllData() {\n  removeLocalData(keyFormLocalData); // usuwanie danych formularza z localData\n  formData.clear(); // czyszczenie danych\n  completeForm(' ', ' '); // czyszczenie formularza\n}\nfunction sendForm(eve) {\n  eve.preventDefault();\n  console.log(formData); // wypisanie na konsoli email i message\n  resetAllData();\n}\n//-----------------------------------------------------------------------------------\n\nconst form = document.querySelector('.feedback-form');\n\ngetLocalData(keyFormLocalData, formData);\ncompleteForm(formData.eMail, formData.message);\n\nform.addEventListener('input', _.throttle(saveForm, 1000));\nform.addEventListener('submit', sendForm);\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$keyFormLocalData","$b00c40859be242c5$var$formData","eMail","message","clear","this","$b00c40859be242c5$var$completeForm","$b00c40859be242c5$var$form","email","value","$b00c40859be242c5$var$resetAllData","key","localStorage","removeItem","document","querySelector","data","serializedState","getItem","getData","undefined","JSON","parse","error","length","console","log","$b00c40859be242c5$var$getLocalData","addEventListener","$parcel$interopDefault","throttle","eve","setItem","stringify","$b00c40859be242c5$var$setLocalData","preventDefault"],"version":3,"file":"03-feedback.6564fb6f.js.map"}